# Public CLI API

The `csvquery` binary supports the following commands:

## 1. index
Creates disk-based indexes for a CSV file.
- `--input` (string): Input CSV file path (Required)
- `--output` (string): Output directory for indexes (Default: same as input)
- `--columns` (string): JSON array of columns to index (e.g. `["COL1", ["COL2","COL3"]]`)
- `--separator` (string): CSV separator (Default: `,`)
- `--workers` (int): Number of parallel workers
- `--memory` (int): Memory limit per worker in MB
- `--bloom` (float): Bloom filter false positive rate
- `--verbose` (bool): Enable verbose output

## 2. query
Queries a CSV file using indexes where possible.
- `--csv` (string): Path to CSV file (Required)
- `--index-dir` (string): Directory containing index files
- `--where` (string): JSON object of conditions
- `--limit` (int): Maximum results
- `--offset` (int): Skip first N results
- `--count` (bool): Only output count
- `--explain` (bool): Explain query plan
- `--group-by` (string): Column to group by
- `--agg-col` (string): Column to aggregate
- `--agg-func` (string): Aggregation function (sum, min, max, avg)

## 3. daemon
Starts the Unix Domain Socket server for high-performance querying.
- `--socket` (string): Socket path (Default: `/tmp/csvquery.sock`)
- `--csv` (string): Path to CSV
- `--index-dir` (string): Index directory
- `--workers` (int): Max concurrency

## 4. write
Appends data to a CSV file.
- `--csv` (string): Path to CSV file
- `--headers` (string): JSON array of headers (for new file)
- `--data` (string): JSON array of rows
- `--separator` (string): CSV separator

## 5. alter
Modifies CSV schema (internal use).
- `--csv` (string): Path to CSV
- `--add-column` (string): New column name
- `--default` (string): Default value
- `--materialize` (bool): Rewrite file immediately

## 6. version
Prints version information.
